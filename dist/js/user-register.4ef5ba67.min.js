webpackJsonp([13],{0:function(e,t,o){e.exports=o(27)},1:function(e,t){"use strict";var o={serverHost:"https://api.fangjinnet.com:1000/api",apiMethod:{productList:"ProductList",productDetail:"ProductDetail",productBuyRecord:"BuyRecord",productBuyRank:"ProductBuyRank",productTypeList:"GetProductTypes",getHelpType:"GetHelpType",helpCenterList:"HelpCenterListForPC",getFriendList:"GetFriendList"}},r={config:o,cache:{isLogin:!1,glb_user_phone:"",glb_user_token:"",glb_user_avator:""},getKeys:Object.names||function(e){var t=[],o="";for(o in e)e.hasOwnProperty(o)&&t.push(o);return t},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},isArray:function(e){return e instanceof Array},toArray:function(e){return Array.prototype.slice.call(e)},storage:{getItem:function(e){return window.localStorage?localStorage.getItem(e):cookie.get(e)},setItem:function(e,t){window.localStorage?localStorage.setItem(e,t):cookie.set(e,t)},delItem:function(e){window.localStorage?localStorage.removeItem(e):cookie.remove(e,val)},clearItem:function(){window.localStorage&&localStorage.clear()}},cookie:{get:function(e){for(var t=e+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var n=o[r];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return unescape(n.substring(t.length,n.length))}},set:function(e,t,o){if(r.isPlainObject(e))for(var n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);else{var i=r.isPlainObject(o)?o:{expires:o},s=void 0!==i.expires?i.expires:"",c=typeof s,a=void 0!==i.path?";path="+i.path:";path=/",u=i.domain?";domain="+i.domain:"",l=i.secure?";secure":"";"string"===c&&""!==s?s=new Date(s):"number"===c&&(s=new Date(+new Date+864e5*s)),""!==s&&"toGMTString"in s&&(s=";expires="+s.toGMTString()),document.cookie=e+"="+escape(t)+s+a+u+l}},remove:function(e){e=r.isArray(e)?e:r.toArray(arguments);for(var t=0,o=e.length;t<o;t++)this.set(e[t],"",-1);return e},clear:function(){return this.remove(r.getKeys(this.all()))},all:function(){if(""===document.cookie)return{};for(var e=document.cookie.split("; "),t={},o=0,r=e.length;o<r;o++){var n=e[o].split("=");t[unescape(n[0])]=unescape(n[1])}return t}},request:function(e){var t=this;$.ajax({url:e.url||"",data:e.data||"",type:e.method||"get",async:e.async||!0,cache:e.cache||!0,dataType:e.type||"json",complete:e.complete,beforeSend:e.beforeSend,timeout:e.timeout||6e5,success:function(o){0===o.s?"function"==typeof e.success&&e.success(o.d,o.es):101===o.status?t.doLogin():1===o.s?"function"==typeof e.error&&e.error(o.es):"function"==typeof e.hideLoading&&e.hideLoading()},error:function(t,o){"timeout"===o?console&&console.log("ajax超时！  url="+e.url):"abort"===o&&console&&console.log("ajax客户端终止请求！  url="+e.url),"function"==typeof e.error&&e.error(t.statusText)}})},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),o=window.location.search.substr(1).match(t);return o?decodeURIComponent(o[2]):null},validate:function(e,t){var e=$.trim(e);return"require"===t?!!e:"phone"===t?/^1\d{10}$/.test(e):"email"===t?/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/.test(e):void 0},doLogin:function(){var e=this,t="";e.user.isLogin?window.location.href=t:window.location.href="./user-login.html?redirect="+encodeURIComponent(window.location.href)},goHome:function(){window.location.href="../view/user-login.html"}},n={ajaxSet:function(e){e=e!==!1,$.ajaxSetup({contentType:"application/x-www-form-urlencoded;charset=utf-8",cache:e}),$.ajaxSetup({timeout:6e5}),$(document).ajaxSend(function(e,t,o){if("post"===o.type.toLowerCase()&&null!=o.data&&""!==o.data&&"undefined"!=typeof o.data){var n=JSON.parse(o.data);n.P=3,n.IE=!1,n.T=r.cache.glb_user_token,o.data=JSON.stringify(n)}})}};$(function(){n.ajaxSet(),top.location!=self.location&&(top.location.href=self.location)}),e.exports=r},2:function(e,t,o){"use strict";var r=o(1),n={login:function(e,t,o){r.request({url:r.config.serverHost,data:e,method:"POST",success:t,error:o})},checkExistPhone:function(e,t,o){r.request({url:r.config.serverHost,data:{type:"phone",str:e},method:"POST",success:t,error:o})},register:function(e,t,o){r.request({url:r.config.serverHost,data:e,method:"POST",success:t,error:o})},checkLogin:function(){!r.cookie.get("F.token")},resetPassword:function(e,t,o){r.request({url:r.config.serverHost,data:e,method:"POST",success:t,error:o})},getUserInfo:function(e,t){r.request({url:r.config.serverHost,method:"POST",success:e,error:t})},updateUserInfo:function(e,t,o){r.request({url:r.config.serverHost,data:e,method:"POST",success:t,error:o})},updatePassword:function(e,t,o){r.request({url:r.config.serverHost,data:e,method:"POST",success:t,error:o})},logout:function(e,t){r.request({url:r.config.serverHost,method:"POST",success:e,error:t}),r.cookie.remove("F.token"),r.cookie.remove("F.phone"),r.cookie.remove("F.avator")},getUserInfo:function(){}};e.exports={_user:n,_f:r},n.checkLogin()},27:function(e,t,o){"use strict";o(44);var r=o(2),n=o(1),i={show:function(e){$(".error").addClass("error-show").text(e)},hide:function(){$(".error").removeClass("error-show").text("")}},s={init:function(){this.bindEvent()},bindEvent:function(){var e=this;$(".registerbtn").click(function(){e.submit()}),$(".register-box-page").keyup(function(t){13===t.keyCode&&e.submit()})},submit:function(){var e={phoe:$.trim($("#phone").val()),password:$.trim($("#password").val())},t=this.formValidate(e);t.status?r.register(e,function(e){window.location.href=n.getUrlParam("redirect")||"./index.html"},function(e){i.show(e)}):i.show(t.msg)},formValidate:function(e){var t={status:!1,msg:""};return n.validate(e.phone,"require")?n.validate(e.password,"require")?(t.status=!0,t.msg="验证通过",t):(t.msg="密码不能为空",t):(t.msg="用户名不能为空",t)}};$(function(){s.init()})},44:function(e,t){}});